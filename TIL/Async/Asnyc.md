# Waht is Async?

> 특정 코드의 연산이 끝날 때까지 코드의 실행을 멈추지 않고 다음 코드를 먼저 실행하는 자바스크립트의 특성을 의미한다.

- 콜백함수의비유

  콜백 함수의 동작 방식은 일종의 식당 자리 예약과 같다. 일반적으로 맛집을 가면 사람이 많아 자리가 없다. 그래서 대기자 명단에 이름을 쓴 다음에 자리가 날 때까지 주변 식당을 돌아다닌다. 만약 식당에서 자리가 생기면 전화로 자리가 났다고 연락이 온다. 그 전화를 받는 시점이 여기서의 콜백 함수가 호출되는 시점과 같다. 손님 입장에서는 자리가 날 때까지 식당에서 기다리지 않고 근처 가게에서 잠깐 쇼핑을 할 수도 있고 아니면 다른 식당 자리를 알아볼 수도 있다.

  자리가 났을 때만 연락이 오기 때문에 미리 가서 기다릴 필요도 없고, 직접 식당 안에 들어가서 자리가 비어 있는지 확인할 필요도 없다. 자리가 준비된 시점, 즉 데이터가 준비된 시점에서만 저희가 원하는 동작(자리에 앉는다, 특정 값을 출력한다 등)을 수행할 수 있디

------

# Case 1.

```jsx
// #1
console.log('Hello');
// #2
setTimeout(function() {
	console.log('Bye');
}, 3000);
// #3
console.log('Hello Again');
```

***기대 출력값은 다음과 같이 예상할수있다.\***

1. Hello 출력
2. Bye 출력
3. Hello Again 출력

***하지만 실제 출력은\***

1. Hello 출력
2. Hello Again 출력
3. Bye 출력

`setTimeout()` 역시 **비동기 방식**으로 실행되기 때문에 3초를 기다렸다가 다음 코드를 수행하는 것이 아니라 일단 `setTimeout()`을 실행하고 나서 바로 다음 코드인 `console.log('Hello Again');`으로 넘어간다. 따라서, `‘Hello’`, `‘Hello Again’`를 먼저 출력하고 3초가 지나면 `‘Bye’`가 출력된다.

------

# Callback hell

비동기 처리 로직을 위해 콜백 함수를 연속해서 사용할 때 발생하는 문제이다.

```jsx
$.get('url', function(response) {
	parseValue(response, function(id) {
		auth(id, function(result) {
			display(result, function(text) {
				console.log(text);
			});
		});
	});
});
```

- 콜백지옥
  - 모든 과정을 비동기로 처리해야한다 → 위와 같이 콜백안에 콜백을 계속 넣어줌 → 가독성 down 로직변경 어려움

------

# 콜백 지옥 해결

Promise나 Async를 사용하는 방법이있다.